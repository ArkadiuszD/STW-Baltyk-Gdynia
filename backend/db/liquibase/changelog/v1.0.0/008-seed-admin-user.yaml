databaseChangeLog:
  # ============================================================================
  # Seed Data - Initial admin user
  # ============================================================================

  - changeSet:
      id: seed-001-admin-user
      author: stw-baltyk
      comment: Create initial admin user
      context: "!test"
      preConditions:
        - onFail: MARK_RAN
        - sqlCheck:
            expectedResult: 0
            sql: SELECT COUNT(*) FROM users WHERE email = 'admin@stwbaltyk.pl'
      changes:
        - insert:
            tableName: users
            columns:
              - column:
                  name: email
                  value: admin@stwbaltyk.pl
              - column:
                  name: password_hash
                  value: "scrypt:32768:8:1$0cafbWr4VGXfOKim$1e1dc740673efe9f187cffc11db784eb4784ffbe4c2f6937fa6dedfe3e2c6a9e634691d3daa9ae3f37b388157899e82676e0760d7ed521bf12ed49e8d36d2cf1"
              - column:
                  name: first_name
                  value: Administrator
              - column:
                  name: last_name
                  value: STW
              - column:
                  name: role
                  value: ADMIN
              - column:
                  name: is_active
                  valueBoolean: true
      rollback:
        - delete:
            tableName: users
            where: email = 'admin@stwbaltyk.pl'
